# MGraph HTML Graph - UI + Backend Implementation Debrief

## Executive Summary

This document provides a comprehensive technical debrief of the HTML Graph visualization system built for MGraph. The implementation spans **5 UI versions (v0.1.0 - v0.1.4)** and a **FastAPI backend** that converts HTML documents into graph visualizations using multiple rendering engines.

**What was built:**
- A FastAPI backend that parses HTML into MGraph structures and exports to DOT (Graphviz) format
- A progressive web UI with 5 different JavaScript graph rendering engines
- URL fetching capability to visualize any website's HTML structure
- Real-time statistics, timing metrics, and graceful error handling

---

## Architecture Overview

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              USER BROWSER                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐    ┌──────────────┐    ┌─────────────────────────────────┐ │
│  │  URL Input  │───▶│  HTML Input  │───▶│       Graph Canvas              │ │
│  │  (v0.1.3)   │    │   (v0.1.1)   │    │  ┌─────────────────────────────┐│ │
│  └─────────────┘    └──────────────┘    │  │    Renderer Selection       ││ │
│                            │            │  │  ┌─────┬─────┬─────┬─────┐  ││ │
│  ┌─────────────┐          │            │  │  │ DOT │vis.js│ D3  │Cyto │  ││ │
│  │Config Panel │          │            │  │  │     │      │     │scape│  ││ │
│  │  (v0.1.1)   │          │            │  │  └─────┴─────┴─────┴─────┘  ││ │
│  │ - Preset    │          │            │  │  │Mermaid│                  ││ │
│  │ - Visibility│          ▼            │  │  └───────┘                  ││ │
│  │ - Colors    │    ┌──────────┐       │  └─────────────────────────────┘│ │
│  └─────────────┘    │API Client│       └─────────────────────────────────┘ │
│                     │ (v0.1.0) │                                            │
└─────────────────────┴────┬─────┴────────────────────────────────────────────┘
                           │ POST /graph/from/html/to/dot
                           │ POST /html/from/url
                           ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           FASTAPI BACKEND                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐    ┌─────────────────────┐    ┌─────────────────────┐  │
│  │  Routes__Html   │    │   Routes__Graph     │    │ Html_Graph__Export  │  │
│  │                 │    │                     │    │     __Service       │  │
│  │ POST /html/     │    │ POST /graph/from/   │    │                     │  │
│  │   from/url      │    │   html/to/dot       │    │ - html_to_dot()     │  │
│  │                 │    │                     │    │ - get_stats()       │  │
│  └────────┬────────┘    └──────────┬──────────┘    └──────────┬──────────┘  │
│           │                        │                          │             │
│           ▼                        ▼                          ▼             │
│  ┌─────────────────┐    ┌─────────────────────┐    ┌─────────────────────┐  │
│  │Html__Url__      │    │ MGraph__Html        │    │ Html_MGraph__To__   │  │
│  │   Fetcher       │    │ (from mgraph-ai)    │    │      Dot            │  │
│  │                 │    │                     │    │                     │  │
│  │ - requests lib  │    │ - Parse HTML        │    │ - DOT generation    │  │
│  │ - User-Agent    │    │ - Build graph       │    │ - Color schemes     │  │
│  │ - Timeout       │    │ - Node types        │    │ - Node filtering    │  │
│  └─────────────────┘    └─────────────────────┘    └─────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Backend Implementation

### Package Structure

```
mgraph_ai_service_html_graph/
├── fast_api/
│   └── routes/
│       ├── Routes__Graph.py      # Graph generation endpoints
│       └── Routes__Html.py       # HTML fetching endpoints
├── schemas/
│   ├── graph/
│   │   ├── Schema__Graph__From_Html__Request.py
│   │   ├── Schema__Graph__From_Url__Request.py
│   │   ├── Schema__Graph__Dot__Response.py
│   │   ├── Schema__Graph__Stats.py
│   │   └── __init__.py
│   └── html/
│       ├── Schema__Html__From_Url__Request.py
│       ├── Schema__Html__From_Url__Response.py
│       └── __init__.py
├── service/
│   ├── html_graph/
│   │   ├── Html_Graph__Export__Service.py
│   │   └── exporters/
│   │       └── Html_MGraph__To__Dot.py
│   └── html_url/
│       └── Html__Url__Fetcher.py
└── tests/
    └── unit/
        └── fast_api/
            └── routes/
                ├── test_Routes__Graph.py
                └── test_Routes__Html.py
```

### API Endpoints

#### POST `/graph/from/html/to/dot`

Converts HTML to DOT (Graphviz) format.

**Request Schema (`Schema__Graph__From_Html__Request`):**
```python
class Schema__Graph__From_Html__Request(Type_Safe):
    html           : str  = ''           # HTML content to convert
    preset         : str  = 'FULL_DETAIL' # FULL_DETAIL, STRUCTURE_ONLY, MINIMAL
    show_tag_nodes : bool = True          # Show <tag> nodes
    show_attr_nodes: bool = True          # Show attribute nodes
    show_text_nodes: bool = True          # Show text content nodes
    color_scheme   : str  = 'DEFAULT'     # DEFAULT, MONOCHROME, COLORFUL
```

**Response Schema (`Schema__Graph__Dot__Response`):**
```python
class Schema__Graph__Dot__Response(Type_Safe):
    dot           : str                    # DOT code for Graphviz
    stats         : Schema__Graph__Stats   # Graph statistics
    processing_ms : int = 0                # Server-side processing time
    dot_size_bytes: int = 0                # Size of generated DOT code
```

**Stats Schema (`Schema__Graph__Stats`):**
```python
class Schema__Graph__Stats(Type_Safe):
    total_nodes  : int = 0
    total_edges  : int = 0
    element_nodes: int = 0
    value_nodes  : int = 0
    tag_nodes    : int = 0
    text_nodes   : int = 0
    attr_nodes   : int = 0
```

#### POST `/html/from/url`

Fetches HTML from a URL.

**Request Schema (`Schema__Html__From_Url__Request`):**
```python
class Schema__Html__From_Url__Request(Type_Safe):
    url       : str = ''
    timeout   : int = 30
    user_agent: str = ''  # Defaults to 'Mozilla/5.0 (compatible; MGraph-AI/1.0)'
```

**Response Schema (`Schema__Html__From_Url__Response`):**
```python
class Schema__Html__From_Url__Response(Type_Safe):
    html        : str = ''
    url         : str = ''
    content_type: str = ''
    status_code : int = 200
```

### Service Layer

#### `Html_Graph__Export__Service`

Main service that orchestrates HTML→DOT conversion:

```python
class Html_Graph__Export__Service:
    def html_to_dot(self, html, preset, show_tag_nodes, show_attr_nodes, 
                    show_text_nodes, color_scheme) -> Schema__Graph__Dot__Response:
        start_time = time.time()
        
        # Parse HTML into MGraph structure
        mgraph_html = MGraph__Html()
        mgraph_html.load().from_string(html)
        
        # Export to DOT format
        exporter = Html_MGraph__To__Dot(mgraph=mgraph_html.graph)
        exporter.apply_preset(preset)
        exporter.set_visibility(show_tag_nodes, show_attr_nodes, show_text_nodes)
        exporter.set_color_scheme(color_scheme)
        dot_code = exporter.to_dot()
        
        # Calculate timing and stats
        processing_ms = int((time.time() - start_time) * 1000)
        
        return Schema__Graph__Dot__Response(
            dot=dot_code,
            stats=self.get_stats(mgraph_html),
            processing_ms=processing_ms,
            dot_size_bytes=len(dot_code.encode('utf-8'))
        )
```

#### `Html__Url__Fetcher`

Fetches HTML from URLs with error handling:

```python
class Html__Url__Fetcher:
    def fetch_html(self, url, timeout=30, user_agent='') -> Schema__Html__From_Url__Response:
        headers = {'User-Agent': user_agent or 'Mozilla/5.0 (compatible; MGraph-AI/1.0)'}
        response = requests.get(url, headers=headers, timeout=timeout)
        response.raise_for_status()
        
        return Schema__Html__From_Url__Response(
            html=response.text,
            url=str(response.url),  # May differ due to redirects
            content_type=response.headers.get('content-type', ''),
            status_code=response.status_code
        )
```

---

## UI Implementation

### Version Evolution

| Version | Codename | Key Features |
|---------|----------|--------------|
| v0.1.0 | Foundation | CSS design system, API client, sample HTML files |
| v0.1.1 | Core UI | Web Components (html-input, config-panel, graph-canvas), playground layout |
| v0.1.2 | DOT Renderer | viz.js WebAssembly integration, SVG output |
| v0.1.3 | URL Fetching | url-input component, live website visualization |
| v0.1.4 | Multi-Renderer | 5 rendering engines, timing stats, error handling |

### File Structure (v0.1.4 - Complete)

```
mgraph_ai_service_html_graph__render_ui/
├── __init__.py
└── v0/
    ├── v0.1.0/                          # Foundation
    │   ├── css/
    │   │   ├── common.css               # Design system (colors, typography, components)
    │   │   └── dashboard.css            # Dashboard-specific styles
    │   ├── js/
    │   │   ├── services/
    │   │   │   └── api-client.js        # API communication layer
    │   │   └── dashboard.js             # Dashboard page logic
    │   ├── samples/                     # Sample HTML files
    │   │   ├── simple.html
    │   │   ├── nested.html
    │   │   ├── attributes.html
    │   │   ├── mixed-content.html
    │   │   └── bootstrap.html
    │   ├── index.html                   # Dashboard page
    │   └── 404.html
    │
    ├── v0.1.1/                          # Core UI Framework
    │   ├── css/
    │   │   └── playground.css           # Playground layout styles
    │   ├── js/
    │   │   └── playground.js            # Orchestrator (coordinates components)
    │   ├── components/
    │   │   ├── top-nav/
    │   │   │   └── top-nav.js           # Navigation bar component
    │   │   ├── html-input/
    │   │   │   └── html-input.js        # HTML editor with sample selector
    │   │   ├── config-panel/
    │   │   │   └── config-panel.js      # Preset/visibility/color controls
    │   │   ├── stats-panel/
    │   │   │   └── stats-panel.js       # Graph statistics display
    │   │   └── graph-canvas/
    │   │       └── graph-canvas.js      # Renderer selector + canvas area
    │   ├── index.html
    │   └── playground.html
    │
    ├── v0.1.2/                          # DOT Renderer
    │   ├── js/
    │   │   └── playground.js            # Extended orchestrator
    │   ├── components/
    │   │   └── dot-renderer/
    │   │       └── dot-renderer.js      # viz.js WebAssembly Graphviz
    │   ├── index.html
    │   └── playground.html
    │
    ├── v0.1.3/                          # URL Fetching
    │   ├── js/
    │   │   └── playground.js            # Extended with URL handling
    │   ├── components/
    │   │   └── url-input/
    │   │       └── url-input.js         # URL input + fetch button
    │   ├── index.html
    │   └── playground.html
    │
    └── v0.1.4/                          # Multi-Renderer + Polish
        ├── css/
        │   └── playground.css           # Layout overrides for stats toolbar
        ├── js/
        │   └── playground.js            # Full orchestrator (5 renderers)
        ├── components/
        │   ├── stats-toolbar/
        │   │   └── stats-toolbar.js     # Combined render button + stats + timing
        │   ├── graph-canvas/
        │   │   └── graph-canvas.js      # Enables all 5 renderers
        │   ├── vis-renderer/
        │   │   └── vis-renderer.js      # vis.js network visualization
        │   ├── d3-renderer/
        │   │   └── d3-renderer.js       # D3.js force-directed layout
        │   ├── cytoscape-renderer/
        │   │   └── cytoscape-renderer.js # Cytoscape.js + dagre
        │   └── mermaid-renderer/
        │       └── mermaid-renderer.js  # Mermaid flowcharts
        ├── index.html
        └── playground.html
```

### Incremental File Development (IFD) Pattern

Each version builds on previous versions by referencing their files:

```html
<!-- v0.1.4/playground.html -->

<!-- v0.1.0: Base styles and API client -->
<link rel="stylesheet" href="../v0.1.0/css/common.css">
<script src="../v0.1.0/js/services/api-client.js"></script>

<!-- v0.1.1: Core components and playground styles -->
<link rel="stylesheet" href="../v0.1.1/css/playground.css">
<script src="../v0.1.1/components/top-nav/top-nav.js"></script>
<script src="../v0.1.1/components/html-input/html-input.js"></script>
<script src="../v0.1.1/components/config-panel/config-panel.js"></script>

<!-- v0.1.2: DOT renderer -->
<script src="../v0.1.2/components/dot-renderer/dot-renderer.js"></script>

<!-- v0.1.3: URL input -->
<script src="../v0.1.3/components/url-input/url-input.js"></script>

<!-- v0.1.4: New components (overrides graph-canvas from v0.1.1) -->
<link rel="stylesheet" href="./css/playground.css">
<script src="./components/stats-toolbar/stats-toolbar.js"></script>
<script src="./components/graph-canvas/graph-canvas.js"></script>
<script src="./components/vis-renderer/vis-renderer.js"></script>
<script src="./components/d3-renderer/d3-renderer.js"></script>
<script src="./components/cytoscape-renderer/cytoscape-renderer.js"></script>
<script src="./components/mermaid-renderer/mermaid-renderer.js"></script>
<script src="./js/playground.js"></script>
```

---

## Component Communication

### Event-Driven Architecture

Components communicate via CustomEvents:

```javascript
// html-input.js - Emits when HTML changes
this.dispatchEvent(new CustomEvent('html-changed', {
    detail: { html: this.getHtml() },
    bubbles: true
}));

// config-panel.js - Emits when config changes
this.dispatchEvent(new CustomEvent('config-changed', {
    detail: { config: this.getConfig() },
    bubbles: true
}));

// url-input.js - Emits when HTML fetched from URL
this.dispatchEvent(new CustomEvent('url-html-fetched', {
    detail: { html, url, contentType },
    bubbles: true
}));

// graph-canvas.js - Emits when renderer selection changes
this.dispatchEvent(new CustomEvent('renderer-changed', {
    detail: { renderer: this.currentRenderer },
    bubbles: true
}));

// stats-toolbar.js - Emits when render button clicked
this.dispatchEvent(new CustomEvent('render-requested', { bubbles: true }));
```

### Playground Orchestrator

The `playground.js` orchestrator listens to all events and coordinates:

```javascript
class Playground {
    setupEventListeners() {
        // HTML changes → Schedule auto-render (debounced 800ms)
        document.addEventListener('html-changed', (e) => {
            this.currentHtml = e.detail.html;
            this.currentDot = null;  // Invalidate cache
            this.scheduleAutoRender();
        });

        // Config changes → Re-render (debounced 300ms)
        document.addEventListener('config-changed', (e) => {
            this.currentConfig = e.detail.config;
            this.currentDot = null;  // Invalidate cache
            this.scheduleAutoRender(300);
        });

        // Renderer changes → Re-render with cached DOT (instant)
        document.addEventListener('renderer-changed', (e) => {
            if (this.currentDot) {
                this.renderWithCurrentRenderer();  // No API call!
            }
        });

        // URL fetched → Populate input and render
        document.addEventListener('url-html-fetched', (e) => {
            this.htmlInput.setHtml(e.detail.html);
            this.scheduleAutoRender(500);
        });

        // Render button clicked → Immediate render
        document.addEventListener('render-requested', () => {
            this.renderGraph();
        });
    }
}
```

---

## Rendering Engines

### DOT Parser (Client-Side)

All non-DOT renderers parse the DOT code to extract nodes and edges:

```javascript
parseDot(dotCode) {
    const nodes = [];
    const edges = [];
    const nodeMap = new Map();

    // Extract node definitions: "nodeId" [shape="box", label="<text>", fillcolor="#FFF"]
    const nodeRegex = /"([^"]+)"\s*\[([^\]]+)\]/g;
    let match;

    while ((match = nodeRegex.exec(dotCode)) !== null) {
        const nodeId = match[1];
        const attrs = match[2];
        
        if (attrs.includes('->')) continue;  // Skip edge definitions

        nodes.push({
            id: nodeId,
            label: this.extractAttr(attrs, 'label'),
            color: this.extractAttr(attrs, 'fillcolor'),
            fontColor: this.extractAttr(attrs, 'fontcolor'),
            shape: this.extractAttr(attrs, 'shape')
        });
        nodeMap.set(nodeId, true);
    }

    // Extract edges: "node1" -> "node2" [style=dashed, color="#888"]
    const edgeRegex = /"([^"]+)"\s*->\s*"([^"]+)"(?:\s*\[([^\]]*)\])?/g;
    
    while ((match = edgeRegex.exec(dotCode)) !== null) {
        if (nodeMap.has(match[1]) && nodeMap.has(match[2])) {
            edges.push({
                source: match[1],
                target: match[2],
                dashed: this.extractAttr(match[3] || '', 'style') === 'dashed'
            });
        }
    }

    return { nodes, edges };
}
```

### Renderer Comparison

| Feature | DOT (viz.js) | vis.js | D3.js | Cytoscape | Mermaid |
|---------|--------------|--------|-------|-----------|---------|
| **CDN Size** | ~2MB (WASM) | ~300KB | ~250KB | ~400KB | ~1.5MB |
| **Layout** | Hierarchical | Hierarchical | Force-directed | Multiple | Flowchart |
| **Interaction** | Pan only | Drag+Zoom | Drag+Zoom | Drag+Zoom | Static |
| **Large Graphs** | ❌ Memory limit | ✅ Good | ⚠️ Slow | ✅ Good | ⚠️ Complex |
| **Output** | SVG | Canvas | SVG | Canvas | SVG |
| **Best For** | Static docs | Exploration | Physics sim | Analysis | Documentation |

### CDN Dependencies

```javascript
// DOT - WebAssembly Graphviz
'https://cdn.jsdelivr.net/npm/@viz-js/viz@3.2.4/lib/viz-standalone.js'

// vis.js - Interactive network
'https://unpkg.com/vis-network@9.1.6/standalone/umd/vis-network.min.js'

// D3.js - Force-directed
'https://d3js.org/d3.v7.min.js'

// Cytoscape - Network analysis
'https://unpkg.com/cytoscape@3.28.1/dist/cytoscape.min.js'
'https://unpkg.com/dagre@0.8.5/dist/dagre.min.js'
'https://unpkg.com/cytoscape-dagre@2.5.0/cytoscape-dagre.js'

// Mermaid - Flowcharts
'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js'
```

---

## Data Flow

### Complete Request Lifecycle

```
1. USER ACTION
   │
   ├─▶ Type HTML in editor
   │   └─▶ html-input fires 'html-changed' event
   │
   ├─▶ Select sample from dropdown
   │   └─▶ html-input.loadSample() → fires 'html-changed'
   │
   ├─▶ Enter URL and click Fetch
   │   └─▶ url-input calls POST /html/from/url
   │       └─▶ Fires 'url-html-fetched' with HTML
   │
   └─▶ Change config (preset, visibility, colors)
       └─▶ config-panel fires 'config-changed'

2. ORCHESTRATOR (playground.js)
   │
   ├─▶ Receives event
   ├─▶ Invalidates DOT cache (if HTML/config changed)
   ├─▶ Schedules debounced render (800ms for typing, 300ms for config)
   │
   └─▶ renderGraph() called
       │
       ├─▶ statsToolbar.setRenderingState(true)
       ├─▶ statsToolbar.clearStats()
       ├─▶ graphCanvas.showLoading()
       │
       └─▶ fetchDotFromApi() if cache invalid
           │
           ├─▶ POST /graph/from/html/to/dot
           │   └─▶ Backend: HTML → MGraph → DOT
           │
           ├─▶ Cache response: this.currentDot = response.dot
           ├─▶ statsToolbar.setStats(response.stats)
           └─▶ statsToolbar.setTiming({ api_ms, server_ms, dot_size })

3. RENDER WITH SELECTED ENGINE
   │
   ├─▶ switch(renderer)
   │   ├─▶ 'dot':       dotRenderer.renderDot(dot)
   │   ├─▶ 'visjs':     visRenderer.renderDot(dot)
   │   ├─▶ 'd3':        d3Renderer.renderDot(dot)
   │   ├─▶ 'cytoscape': cytoscapeRenderer.renderDot(dot)
   │   └─▶ 'mermaid':   mermaidRenderer.renderDot(dot)
   │
   ├─▶ statsToolbar.setTiming({ render_ms })
   │
   └─▶ On error:
       ├─▶ statsToolbar.showError(title, detail, hint)
       └─▶ showDotFallback(dot) if memory error
```

### Caching Strategy

DOT code is cached so switching renderers is instant:

```javascript
// Cache invalidated when HTML or config changes
document.addEventListener('html-changed', () => {
    this.currentDot = null;
});

document.addEventListener('config-changed', () => {
    this.currentDot = null;
});

// Renderer switch uses cached DOT (no API call)
document.addEventListener('renderer-changed', () => {
    if (this.currentDot) {
        this.renderWithCurrentRenderer();  // Instant!
    }
});
```

---

## Error Handling

### Memory Errors (viz.js WASM)

Large graphs can exceed WebAssembly memory limits:

```javascript
try {
    await this.dotRenderer.renderDot(dot);
} catch (error) {
    const errorMsg = error.message || String(error);
    
    // Detect memory errors
    const isMemoryError = errorMsg.includes('memory') ||
                         errorMsg.includes('out of bounds') ||
                         errorMsg.includes('allocation') ||
                         errorMsg.includes('RuntimeError') ||
                         errorMsg.includes('WASM');

    if (isMemoryError) {
        // Show stats (already updated before render attempt)
        // Show actual error message
        this.statsToolbar.showError(
            'Graph too large for browser rendering',
            `${stats.total_nodes} nodes. Try vis.js or Cytoscape.`,
            `Error: ${errorMsg}`
        );
        
        // Show DOT code fallback with copy button
        this.showDotFallback(dot, stats, errorMsg);
    }
}
```

### Network Errors (URL Fetching)

```javascript
// Html__Url__Fetcher.py
try:
    response = requests.get(url, headers=headers, timeout=timeout)
    response.raise_for_status()
except requests.Timeout:
    raise HTTPException(408, f"Request timed out after {timeout}s")
except requests.ConnectionError:
    raise HTTPException(502, f"Could not connect to {url}")
except requests.HTTPError as e:
    raise HTTPException(e.response.status_code, str(e))
```

---

## Key Features Summary

### v0.1.0 - Foundation
- CSS design system with variables (`--color-primary`, `--spacing-md`, etc.)
- API client with `htmlToDot()` method
- 5 sample HTML files for testing
- Dashboard layout

### v0.1.1 - Core UI
- 5 Web Components using `customElements.define()`
- Two-panel playground layout (left: input/config, right: canvas)
- Event-driven component communication
- Preset system (Full Detail, Structure Only, Minimal)

### v0.1.2 - DOT Renderer
- viz.js WebAssembly Graphviz integration
- Dynamic CDN loading
- SVG output in canvas area
- Basic zoom controls

### v0.1.3 - URL Fetching
- URL input component with example buttons
- Backend `/html/from/url` endpoint
- Auto-render after fetch
- Query param support (`?url=https://...`)

### v0.1.4 - Multi-Renderer + Polish
- 5 rendering engines (DOT, vis.js, D3, Cytoscape, Mermaid)
- DOT caching for instant renderer switching
- Stats toolbar with timing metrics
- Debounced auto-render (800ms)
- Memory error handling with DOT fallback
- Pan/drag support for graph navigation

---

## Integration Requirements

To deploy this system:

1. **Backend Integration:**
   ```python
   # In your FastAPI app
   from mgraph_ai_service_html_graph.fast_api.routes.Routes__Graph import Routes__Graph
   from mgraph_ai_service_html_graph.fast_api.routes.Routes__Html import Routes__Html
   
   routes_graph = Routes__Graph()
   routes_html = Routes__Html()
   
   app.include_router(routes_graph.setup_routes())
   app.include_router(routes_html.setup_routes())
   ```

2. **UI Serving:**
   ```python
   # Serve static files from render_ui package
   from fastapi.staticfiles import StaticFiles
   
   app.mount("/graph-render", StaticFiles(
       directory="mgraph_ai_service_html_graph__render_ui/v0/v0.1.4",
       html=True
   ))
   ```

3. **Default Redirect:**
   ```python
   @app.get("/graph-render/")
   async def redirect_to_playground():
       return RedirectResponse("/graph-render/playground.html")
   ```

---

## Testing

### Backend Tests

```bash
pytest tests/unit/fast_api/routes/test_Routes__Graph.py
pytest tests/unit/fast_api/routes/test_Routes__Html.py
```

### Manual UI Testing

1. Open `playground.html`
2. Test each sample from dropdown
3. Test URL fetch with example.com
4. Switch between all 5 renderers
5. Try large HTML (e.g., docs.diniscruz.ai) to trigger memory error
6. Verify stats display before and after render failure

---

## Conclusion

This implementation provides a complete HTML graph visualization system with:

- **Flexible backend** that converts HTML to DOT format with configurable options
- **Progressive UI** that evolved over 5 versions using IFD methodology
- **5 rendering engines** for different visualization needs
- **Robust error handling** with graceful degradation
- **Performance metrics** for debugging and optimization

The architecture supports easy addition of new renderers and visualization features while maintaining backward compatibility through the IFD versioning approach.